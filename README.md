# 智慧环卫垃圾分类全链条智能监管系统

## 系统概述

智慧环卫垃圾分类全链条智能监管系统是一个覆盖"分类投放-收运-中转-处置"全流程的智能监管平台，通过物联网、人工智能、大数据等技术手段，实现垃圾分类的源头可溯、过程可控、结果可评。

## 核心功能

### 🗂️ 智能投放点管理
- 多种身份识别方式（人脸识别、二维码、IC卡）
- 自动称重和积分计算
- 实时投放记录和用户激励

### 🚛 分类收运监管
- RFID绑定和满溢监控
- GPS轨迹实时跟踪
- 收运过程视频录制
- 自动生成收运报告

### 📋 智能调度系统
- 车辆和垃圾类型智能匹配
- 基于AI的路线优化算法
- 混装混运防护机制
- 调度方案自动推送

### 🏭 末端处置监控
- 处置场进出场自动识别
- 环保指标实时监控
- 处置效率分析和统计

### 🔍 溯源与执法支持
- 完整的垃圾溯源链条
- 违规投放自动检测和证据收集
- 标准化执法报告生成
- 个性化居民教育内容推送

### 📊 数据分析与报表
- 实时数据统计和监控
- 多维度数据分析
- 可视化仪表板
- 趋势分析和预测

## 技术架构

### 后端技术栈
- **框架**: Spring Boot 2.7+ / Spring Cloud 2021+
- **数据库**: MySQL 8.0 + MongoDB 6.0 + Redis 7.0
- **消息队列**: Apache Kafka
- **服务发现**: Spring Cloud Consul
- **监控**: Prometheus + Grafana
- **容器化**: Docker + Docker Compose

### 前端技术栈
- **框架**: Vue.js 2.x + Element UI
- **图表**: ECharts 5.x
- **构建**: Webpack
- **样式**: CSS3 + Flexbox

### 系统架构图
```
┌─────────────────┐    ┌─────────────────┐    ┌─────────────────┐
│   智能投放设备   │    │   收运车载设备   │    │  处置场监控设备  │
└─────────┬───────┘    └─────────┬───────┘    └─────────┬───────┘
          │                      │                      │
          └──────────────────────┼──────────────────────┘
                                 │
                    ┌─────────────┴─────────────┐
                    │      边缘网关/5G网络      │
                    └─────────────┬─────────────┘
                                 │
                    ┌─────────────┴─────────────┐
                    │       API网关服务        │
                    └─────────────┬─────────────┘
                                 │
        ┌────────────────────────┼────────────────────────┐
        │                       │                        │
┌───────┴───────┐    ┌─────────┴─────────┐    ┌─────────┴─────────┐
│   用户管理服务  │    │   设备管理服务     │    │   溯源服务        │
└───────────────┘    └───────────────────┘    └───────────────────┘
        │                       │                        │
┌───────┴───────┐    ┌─────────┴─────────┐    ┌─────────┴─────────┐
│   收运监管服务  │    │   调度服务        │    │   违规检测服务     │
└───────────────┘    └───────────────────┘    └───────────────────┘
        │                       │                        │
        └────────────────────────┼────────────────────────┘
                                 │
                    ┌─────────────┴─────────────┐
                    │    数据存储层 & 缓存      │
                    │  MySQL + MongoDB + Redis │
                    └───────────────────────────┘
```

## 快速开始

### 环境要求
- Java 17+
- Maven 3.8+
- Docker & Docker Compose (可选)
- Node.js 16+ (前端开发)

### 本地开发启动

1. **克隆项目**
```bash
git clone <repository-url>
cd smart-waste-management
```

2. **启动依赖服务**
```bash
# 使用Docker Compose启动数据库等依赖服务
docker-compose up -d mysql redis mongodb
```

3. **配置数据库**
```bash
# 创建数据库和表结构
mysql -u root -p < sql/init.sql
```

4. **启动应用**
```bash
# Windows
start-demo.bat

# Linux/Mac
./start-demo.sh
```

5. **访问系统**
- 管理后台: http://localhost:8080/admin/
- API文档: http://localhost:8080/swagger-ui.html
- 健康检查: http://localhost:8080/actuator/health

### Docker部署

1. **构建镜像**
```bash
docker build -t smartwaste:latest .
```

2. **启动完整系统**
```bash
docker-compose up -d
```

3. **查看服务状态**
```bash
docker-compose ps
```

## 系统演示

### 管理后台功能演示

1. **数据概览仪表板**
   - 实时统计数据展示
   - 投放量趋势图表
   - 垃圾分类占比分析
   - 系统告警信息

2. **用户管理**
   - 用户信息查询和管理
   - 用户投放记录统计
   - 用户积分管理

3. **设备监控**
   - 设备在线状态监控
   - 设备健康状态检查
   - 设备远程控制

4. **违规管理**
   - 违规行为检测记录
   - 证据材料查看
   - 执法报告生成

5. **溯源查询**
   - 垃圾投放溯源查询
   - 完整链条追踪
   - 责任人定位

### API接口演示

系统提供完整的RESTful API接口，支持：

- 用户管理 API
- 设备管理 API  
- 投放记录 API
- 收运监管 API
- 违规检测 API
- 溯源查询 API
- 统计分析 API

详细API文档请访问: http://localhost:8080/swagger-ui.html

## 系统配置

### 应用配置文件

主要配置文件位于 `src/main/resources/`:

- `application.yml` - 主配置文件
- `application-dev.yml` - 开发环境配置
- `application-prod.yml` - 生产环境配置
- `application-demo.yml` - 演示环境配置

### 数据库配置

```yaml
spring:
  datasource:
    url: jdbc:mysql://localhost:3306/smartwaste
    username: smartwaste
    password: smartwaste123
  data:
    mongodb:
      host: localhost
      port: 27017
      database: smartwaste
  redis:
    host: localhost
    port: 6379
```

### 监控配置

系统集成了完整的监控体系：

- **应用监控**: Spring Boot Actuator
- **指标收集**: Prometheus
- **可视化**: Grafana
- **日志**: Logback + ELK (可选)

## 部署指南

### 生产环境部署

1. **环境准备**
   - 服务器配置: 4核8G内存，100G存储
   - 操作系统: CentOS 7+ / Ubuntu 18+
   - 容器环境: Docker 20+ / Kubernetes 1.20+

2. **数据库部署**
   - MySQL 8.0 主从配置
   - MongoDB 副本集配置
   - Redis 集群配置

3. **应用部署**
   - 使用Docker Compose或Kubernetes部署
   - 配置负载均衡和高可用
   - 设置监控和告警

4. **安全配置**
   - HTTPS证书配置
   - 防火墙规则设置
   - 数据库访问控制
   - API接口鉴权

### 运维监控

- **系统监控**: CPU、内存、磁盘、网络
- **应用监控**: JVM指标、接口响应时间、错误率
- **业务监控**: 投放量、收运效率、违规率
- **告警通知**: 邮件、短信、钉钉、企业微信

## 开发指南

### 项目结构
```
src/
├── main/
│   ├── java/com/smartwaste/
│   │   ├── api/           # REST API控制器
│   │   ├── domain/        # 领域模型和服务
│   │   ├── config/        # 配置类
│   │   └── integration/   # 集成服务
│   └── resources/
│       ├── static/        # 静态资源
│       └── application.yml
└── test/                  # 测试代码
```

### 开发规范

1. **代码规范**
   - 遵循阿里巴巴Java开发手册
   - 使用统一的代码格式化配置
   - 必要的注释和文档

2. **API设计**
   - RESTful API设计原则
   - 统一的响应格式
   - 完整的错误处理

3. **数据库设计**
   - 规范的表结构设计
   - 合理的索引配置
   - 数据备份和恢复策略

## 常见问题

### Q: 系统启动失败怎么办？
A: 检查以下几点：
1. Java版本是否为17+
2. 数据库连接是否正常
3. 端口是否被占用
4. 查看日志文件定位具体错误

### Q: 前端页面无法访问？
A: 检查：
1. 应用是否正常启动
2. 防火墙是否开放8080端口
3. 浏览器是否支持现代Web标准

### Q: 数据库连接失败？
A: 检查：
1. 数据库服务是否启动
2. 连接参数是否正确
3. 用户权限是否足够

## 技术支持

- 项目文档: [Wiki链接]
- 问题反馈: [Issues链接]
- 技术交流: [讨论区链接]

## 许可证

本项目采用 MIT 许可证，详见 LICENSE 文件。

## 更新日志

### v1.0.0 (2024-01-15)
- 完成核心功能模块开发
- 实现前端管理界面
- 支持Docker部署
- 集成监控系统

---

**智慧环卫垃圾分类全链条智能监管系统** - 让垃圾分类更智能，让城市更美好！